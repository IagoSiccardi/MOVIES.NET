<!DOCTYPE html>
<html lang="es">

    <%- include("./partials/head.ejs",{
        title: "MOVIES.NET | ADD MOVIES"
      }) %> 

<body>

    <%- include("./partials/header.ejs") %> 
    <main class="formulario_main">
        
        <h2 class="titulo">Agregar Película</h2>
        <section class="formulario_section">
            <form action="/movies/create" method="POST" enctype="multipart/form-data">
                <div class="form_div">
                    <label for="title">Titulo</label>
                    <input type="text" name="title" id="" value="<%= locals.old && old.title ? old.title : null  %>">
                    <% if (locals.errores && errores.title) { %>
                        <p class="error_form"> <%= errores.title.msg %> </p>
                    <% } %> 
    
                </div>
    
                <div class="form_div">
                    <label for="rating">Calificación</label>
                    <input type="number" name="rating" id="" value="<%= locals.old && old.rating ? old.rating : null  %>" step="0.1">
                    <% if (locals.errores && errores.rating) { %>
                        <p class="error_form"> <%= errores.rating.msg %> </p>
                    <% } %> 
                </div>
    
                <div class="form_div">
                    <label for="awards">Premios</label>
                    <input type="number" name="awards" id="" value="<%= locals.old && old.awards ? old.awards : null  %>">
                    <% if (locals.errores && errores.awards) { %>
                        <p class="error_form"> <%= errores.awards.msg %> </p>
                    <% } %> 
                </div>
    
                <div class="form_div">
                    <label for="release_date">Fecha de estreno</label>
                    <input type="date" name="release_date" id="" value="<%= locals.old && old.release_date ? old.release_date : null  %>">
                    <% if (locals.errores && errores.release_date) { %>
                        <p class="error_form"> <%= errores.release_date.msg %> </p>
                    <% } %> 
                </div>
    
                <div class="form_div">
                    <label for="length">Duración</label>
                    <input type="number" name="length" id="" value="<%= locals.old && old.length ? old.length : null  %>">
                    <% if (locals.errores && errores.length) { %>
                        <p class="error_form"> <%= errores.length.msg %> </p>
                    <% } %> 
                </div>
                
                <div class="form_div">
                    <label for="length">Descripción</label>
                    <textarea name="description" id=""><%= locals.old && old.description ? old.description : null  %></textarea>
                    <% if (locals.errores && errores.description) { %>
                        <p class="error_form"> <%= errores.description.msg %> </p>
                    <% } %> 
                </div>

                <div class="form_div">
                    <label for="file" class="label_file">Seleccione una imagen <i class="fas fa-camera"></i></label>
                    <input type="file" class="input_file" name="file" id="">
                    
                </div>
                
                <div class="form_div">
                    <label for="genre_id">Genero</label>
                    <select name="genre_id" id="">
                        <option value="" hidden selected>Seleccionar genero</option>
                        <% genres.forEach(genre => { %>
                            <option value="<%=genre.id%>"><%=genre.name %></option>
                            
                            <% }) %>
                        </select>
                        <% if (locals.errores && errores.genre_id) { %>
                            <p class="error_form"> <%= errores.genre_id.msg %> </p>
                        <% } %> 
                    </div>
                    
              
    
                <button class="botonAgregar" type="submit">Agregar</button>
                
    
            </form>
        </section>
    </main>
    <%- include("./partials/footer.ejs") %> 
    
</body>

</html>